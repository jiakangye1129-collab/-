<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>外籍演员信息查询系统</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: "微软雅黑", sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 25px;
        }
        h2 {
            text-align: center;
            margin-bottom: 25px;
            color: #2c3e50;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        .search-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .search-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        .search-group {
            flex: 1;
            min-width: 200px;
        }
        .search-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        .search-group input, .search-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        button {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }
        .btn-search {
            background: #3498db;
            color: white;
        }
        .btn-search:hover {
            background: #2980b9;
        }
        .btn-reset {
            background: #e74c3c;
            color: white;
        }
        .btn-reset:hover {
            background: #c0392b;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th {
            background-color: #2c3e50;
            color: white;
            text-align: left;
            padding: 12px 15px;
        }
        td {
            padding: 10px 15px;
            border-bottom: 1px solid #ddd;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f1f7fd;
        }
        .dataTables_wrapper {
            margin-top: 20px;
        }
        .dataTables_filter {
            margin-bottom: 15px;
        }
        .dataTables_filter input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #7f8c8d;
            font-size: 14px;
        }
        .highlight {
            background-color: #fff8e1;
            font-weight: bold;
        }
        @media (max-width: 768px) {
            .search-group {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2><i class="fas fa-search"></i> 外籍演员信息查询系统</h2>
        
        <div class="search-panel">
            <div class="search-row">
                <div class="search-group">
                    <label for="search-name">姓名</label>
                    <input type="text" id="search-name" placeholder="输入名或姓">
                </div>
                <div class="search-group">
                    <label for="search-contact">联系方式</label>
                    <input type="text" id="search-contact" placeholder="输入联系方式">
                </div>
                <div class="search-group">
                    <label for="search-passport">护照号码</label>
                    <input type="text" id="search-passport" placeholder="输入护照号码">
                </div>
            </div>
            <div class="search-row">
                <div class="search-group">
                    <label for="search-movie">剧组名称</label>
                    <input type="text" id="search-movie" placeholder="输入剧组名称">
                </div>
                <div class="search-group">
                    <label for="search-location">拍摄地点</label>
                    <input type="text" id="search-location" placeholder="输入拍摄地点">
                </div>
                <div class="search-group">
                    <label for="search-date">拍摄日期</label>
                    <input type="date" id="search-date">
                </div>
            </div>
            <div class="buttons">
                <button class="btn-search" id="search-btn"><i class="fas fa-search"></i> 搜索</button>
                <button class="btn-reset" id="reset-btn"><i class="fas fa-redo"></i> 重置</button>
            </div>
        </div>

        <table id="actors" class="display">
            <thead>
                <tr>
                    <th>名</th>
                    <th>姓</th>
                    <th>联系方式</th>
                    <th>横影卡号码</th>
                    <th>护照号码</th>
                    <th>在华地</th>
                    <th>剧组名称</th>
                    <th>拍摄地点</th>
                    <th>拍摄开始日期</th>
                    <th>拍摄结束日期</th>
                    <th>联系人方式</th>
                    <th>备注</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        
        <div class="footer">
            <p>© 2025 外籍演员信息查询系统 | 东阳市公安局大数据实战中心</p>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script>
        // 示例数据（实际使用时将从data.json加载）
        // const sampleData = [
        //   {
        //     "名": "KSENIIA",
        //     "姓": "TIULIUKINA",
        //     "联系方式": "19846615397",
        //     "横影卡号码": "OO538",
        //     "护照号码": "757706549",
        //     "在华地": "金华",
        //     "剧组名称": "《京城奇案》",
        //     "拍摄地点": "南江名郡摄影棚",
        //     "拍摄开始日期": "2025-08-18",
        //     "拍摄结束日期": "2025-08-18",
        //     "联系人方式": "19846615397",
        //     "备注": "当日往返"
        //   },
        //   {
        //     "名": "Dziuba",
        //     "姓": "Dmytro",
        //     "联系方式": "19846615397",
        //     "横影卡号码": "1096",
        //     "护照号码": "GH112748",
        //     "在华地": "金华",
        //     "剧组名称": "《京城奇案》",
        //     "拍摄地点": "南江名郡摄影棚",
        //     "拍摄开始日期": "2025-08-18",
        //     "拍摄结束日期": "2025-08-18",
        //     "联系人方式": "19846615397",
        //     "备注": "当日往返"
        //   },
        //   {
        //     "名": "ABDURAHMANOV",
        //     "姓": "UMYT",
        //     "联系方式": "13299069352",
        //     "横影卡号码": "01178",
        //     "护照号码": "A2181887",
        //     "在华地": "杭州师范大学(仓前校区)-南2门",
        //     "剧组名称": "战争1840",
        //     "拍摄地点": "南江名郡5号棚",
        //     "拍摄开始日期": "2025-08-12",
        //     "拍摄结束日期": "2025-08-12",
        //     "联系人方式": "马浒 15900622542",
        //     "备注": "住宾馆,玺尚宾馆"
        //   }
        // ];

        $(document).ready(function() {
            // 在实际使用时，请取消注释下面的代码，并删除使用sampleData的代码
            
            $.getJSON('data.json', function(data) {
                initializeDataTable(data);
            }).fail(function(jqxhr, textStatus, error) {
                console.error("加载 data.json 出错:", textStatus, error);
                // 如果加载失败，使用示例数据
                initializeDataTable(sampleData);
            });
            
           
            // 临时使用示例数据
            initializeDataTable(sampleData);
            
            // 搜索按钮点击事件
            $('#search-btn').click(function() {
                performSearch();
            });
            
            // 重置按钮点击事件
            $('#reset-btn').click(function() {
                $('#search-name, #search-contact, #search-passport, #search-movie, #search-location, #search-date').val('');
                table.columns().search('').draw();
            });
            
            // 按回车键触发搜索
            $('.search-group input').keypress(function(e) {
                if(e.which === 13) {
                    performSearch();
                }
            });
        });
        
        function initializeDataTable(data) {
            window.table = $('#actors').DataTable({
                data: data,
                columns: [
                    { data: '名' },
                    { data: '姓' },
                    { data: '联系方式' },
                    { data: '横影卡号码' },
                    { data: '护照号码' },
                    { data: '在华地' },
                    { data: '剧组名称' },
                    { data: '拍摄地点' },
                    { data: '拍摄开始日期' },
                    { data: '拍摄结束日期' },
                    { data: '联系人方式' },
                    { data: '备注' }
                ],
                language: {
                    search: "快速搜索:",
                    lengthMenu: "每页显示 _MENU_ 条",
                    info: "第 _START_ 到 _END_ 条，共 _TOTAL_ 条",
                    infoEmpty: "没有数据",
                    infoFiltered: "(从 _MAX_ 条记录中过滤)",
                    paginate: {
                        first: "首页",
                        last: "末页",
                        next: "下一页",
                        previous: "上一页"
                    },
                    zeroRecords: "没有找到匹配的记录"
                },
                pageLength: 10,
                lengthMenu: [10, 25, 50, 100],
                dom: '<"top"lf>rt<"bottom"ip><"clear">',
                responsive: true,
                order: [[0, 'asc']]
            });
        }
        
        function performSearch() {
            // 获取搜索条件
            const name = $('#search-name').val().trim();
            const contact = $('#search-contact').val().trim();
            const passport = $('#search-passport').val().trim();
            const movie = $('#search-movie').val().trim();
            const location = $('#search-location').val().trim();
            const date = $('#search-date').val();
            
            // 构建搜索条件
            table.columns(0).search(name, true, false); // 名
            table.columns(1).search(name, true, false); // 姓
            table.columns(2).search(contact);
            table.columns(4).search(passport);
            table.columns(6).search(movie);
            table.columns(7).search(location);
            
            // 日期搜索
            if (date) {
                table.columns(8).search(date);
            } else {
                table.columns(8).search('');
            }
            
            // 执行搜索
            table.draw();
        }
    </script>
</body>
</html>